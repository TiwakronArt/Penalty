<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Penalty Shootout Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 10px;
      max-width: 600px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
    }
    select, button {
      font-size: 16px;
      margin: 5px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    .result-button {
      width: 40px;
      height: 40px;
      font-size: 20px;
      padding: 0;
      margin: 2px;
      text-align: center;
      line-height: 1;
    }
    .player span {
      width: 30px;
      display: inline-block;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>ยิงจุดโทษ</h1>

  <div style="text-align: center;">
    <label>ทีม A: </label>
    <select id="teamA">
      <option>Barcelocara888</option>
      <option>Tok Tok</option>
      <option>Songglod United</option>
      <option>โอลต์ บอย เบิร์น</option>
      <option>PTD Team</option>
      <option>Interior FC</option>
      <option>BFT Team</option>
      <option>ย่อมายิงมะทิงนองนอย</option>
      <option>พายุหอยหมี</option>
      <option>VMD DREAM TEAM</option>
      <option>ปลาเข็งต้มเค็ม</option>
      <option>Henz F.C.</option>
    </select>
    <label>ทีม B: </label>
    <select id="teamB">
     <option>Barcelocara888</option>
      <option>Tok Tok</option>
      <option>Songglod United</option>
      <option>โอลต์ บอย เบิร์น</option>
      <option>PTD Team</option>
      <option>Interior FC</option>
      <option>BFT Team</option>
      <option>ย่อมายิงมะทิงนองนอย</option>
      <option>พายุหอยหมี</option>
      <option>VMD DREAM TEAM</option>
      <option>ปลาเข็งต้มเค็ม</option>
      <option>Henz F.C.</option>
    </select>
    <button onclick="startGame()">เริ่ม</button>
  </div>

  <div id="gameArea"></div>

  <div style="text-align: center; margin-top: 20px;">
    <button onclick="confirmResult()">ยืนยันผล</button>
    <button onclick="resetGame()">รีเซ็ตเกม</button>
    <button onclick="resetHistory()">รีเซ็ตผลรวม</button>
  </div>

  <h2 id="summary"></h2>
  <div id="history"></div>

  <script>
    let results = [[null, null, null, null, null], [null, null, null, null, null]];
    let history = [];

    function startGame() {
      const teamA = document.getElementById('teamA').value;
      const teamB = document.getElementById('teamB').value;

      document.getElementById('gameArea').innerHTML = `
        <h2>${teamA} vs ${teamB}</h2>
        <table>
          <tr><th>ทีม</th><th>ผู้เล่น 1</th><th>ผู้เล่น 2</th><th>ผู้เล่น 3</th><th>ผู้เล่น 4</th><th>ผู้เล่น 5</th></tr>
          <tr class="player">
            <td>${teamA}</td>
            ${[0,1,2,3,4].map(i => `<td><span id="resultA${i}"></span><br>
              <button class="result-button" onclick="recordResult(0, ${i}, true)">✅</button>
              <button class="result-button" onclick="recordResult(0, ${i}, false)">❌</button></td>`).join('')}
          </tr>
          <tr class="player">
            <td>${teamB}</td>
            ${[0,1,2,3,4].map(i => `<td><span id="resultB${i}"></span><br>
              <button class="result-button" onclick="recordResult(1, ${i}, true)">✅</button>
              <button class="result-button" onclick="recordResult(1, ${i}, false)">❌</button></td>`).join('')}
          </tr>
        </table>
      `;

      results = [[null, null, null, null, null], [null, null, null, null, null]];
      updateSummary();
    }

    function recordResult(teamIndex, playerIndex, isGoal) {
      results[teamIndex][playerIndex] = isGoal;
      const spanId = `result${teamIndex === 0 ? 'A' : 'B'}${playerIndex}`;
      document.getElementById(spanId).textContent = isGoal ? '✅' : '❌';
      updateSummary();
    }

    function updateSummary() {
      const scoreA = results[0].filter(r => r === true).length;
      const scoreB = results[1].filter(r => r === true).length;
      const teamA = document.getElementById('teamA').value;
      const teamB = document.getElementById('teamB').value;
      document.getElementById('summary').textContent = `สรุปคะแนน: ทีม ${teamA} ${scoreA} : ${scoreB} ทีม ${teamB}`;
    }

    function confirmResult() {
      const scoreA = results[0].filter(r => r === true).length;
      const scoreB = results[1].filter(r => r === true).length;
      const teamA = document.getElementById('teamA').value;
      const teamB = document.getElementById('teamB').value;
      history.push(`▶️ ${teamA} ${scoreA} : ${scoreB} ${teamB}`);
      document.getElementById('history').innerHTML = '<h3>ผลรวม:</h3>' + history.map(h => `<div>${h}</div>`).join('');
      resetGame();
    }

    function resetGame() {
      results = [[null, null, null, null, null], [null, null, null, null, null]];
      updateSummary();
      const spans = document.querySelectorAll('span[id^="result"]');
      spans.forEach(span => span.textContent = '');
    }

    function resetHistory() {
      history = [];
      document.getElementById('history').innerHTML = '';
    }
  </script>
</body>
</html>
